<div style="background: #03A685;color:#fff;font-size:14px;padding:4px 0;">
    <center>Prices are inclusive of all taxes </center>
</div>

<div class="page-top display-pc">
    <div class="container-fluid" style="margin-bottom: 15px;">
        <a href="/" style="font-size:13px;">Home</a> / <a href="/shop" style="font-size:13px;">Shop</a> / <a
            href="/shop-detail" style="font-weight: bold;color:#000;font-size:13px;">More By Ives</a>
    </div>
</div>

<section>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-7">
                <div id="ajax-cartDetail-img"
                    style="display: flex;flex-wrap: wrap;flex-direction:row;justify-content:space-between;">

                </div>
            </div>

            <div class="col-md-5" id="ajax-cartDetail-detail">

            </div>
        </div>
    </div>
</section>


<script>
    //product id from the url ===============================
    var url = window.location.pathname;
    var cartDetailId = url.substring(url.lastIndexOf('/') + 1);


    $.getJSON(`/api/product/articles_by_id?id=${cartDetailId}&type=single`, function (data) {
        let cartDetail = data[0];

        $('#ajax-cartDetail-img').append(`<img src="/productUploads/${cartDetail.file1}" style="width: 49%;margin-bottom:14px;">
                    <img src="/productUploads/${cartDetail.file2}" style="width: 49%;margin-bottom:14px;">
                    <img src="/productUploads/${cartDetail.file3}" style="width: 49%;margin-bottom:14px;">
                    <img src="/productUploads/${cartDetail.file4}" style="width: 49%;margin-bottom:14px;">`)

        $('#ajax-cartDetail-detail').append(`
            <div>
                <strong style="font-size: 20px;">Ives</strong>
                <div
                    style="font-size: 18px;color:#7e808c;border-bottom:1px solid #D4D5D9;padding-bottom:9px;margin-bottom:9px;">
                    ${cartDetail.name}</div>
                <strong style="font-size: 20px;">Rs. ${cartDetail.price}</strong>
                <span style="font-size: 20px;color:#FF4747;text-decoration:line-through;padding-left:10px;">Rs.
                    ${cartDetail.cutoffprice}</span>
                <div style="color:#03A685;font-size:14px;font-weight:bold;padding-top:4px;">inclusive of all taxes</div>
                <button
                    onclick="addToCart()"
                    style="font-size:15px;font-weight:bold;margin:25px 15px 0 0;width:50%;background:#FF4747;color:#fff;border:none;padding:13px 0;border-radius:4px;">
                    <img src="/img/icon/shopping-bag.svg"
                        style="width: 17px;margin-right:10px;position:relative;top:-2px;"> ADD TO BAG
                </button>
                <button
                    style="font-size:15px;font-weight:bold;background:none;margin-top:25px;width:40%;border: solid 1px #D4D5D9;padding:13px 0;border-radius:4px;">
                    <img src="/img/icon/help.svg" style="width: 18px;margin-right:10px;position:relative;top:-2px;">
                    GET HELP
                </button>

                <div style="margin-top:32px;">
                    <strong style="font-size:15px;">PRODUCT DETAILS</strong> <img src="/img/icon/list.svg" style="width: 17px;margin-left:10px;position:relative;top:-1.5px;">
                    <div style="font-size: 14px;color:#444;margin-top:12px;">${cartDetail.description}</div>
                </div>

                <div style="border-top:1px solid #D4D5D9;padding-top:32px;margin-top:32px;">
                    <strong style="font-size:15px;">DELIVERY OPTIONS</strong> <img src="/img/icon/truck.svg" style="width: 22px;margin-left:10px;position:relative;top:-1.5px;"><br>
                    <input type="text" placeholder="Enter pincode"
                        style="border:1px solid #D4D5D9;padding:8px 66px 8px 10px;margin:15px 0 3px 0;border-radius:5px;font-size:14px;">
                    <button
                        style="background:none;border:none;margin-left:-70px;color:#FF4747;font-size:13.5px;font-weight:bold;">Check</button>
                    <br>
                    <span style="font-size: 12px;color:#444;">Please enter PIN code to check delivery time & Cash/Card
                        on Delivery Availability</span>
                    <div style="font-size: 14px;margin-top:22px;color:#444;">
                        <p style="margin-bottom: 12px;">100% Original Products</p style="margin-bottom: 12px;">
                        <p style="margin-bottom: 12px;">Free Delivery on order above Rs. 700</p>
                        <p style="margin-bottom: 12px;">Cash on delivery is available</p>
                        <p style="margin-bottom: 12px;">Easy 7 days returns and exchanges</p>
                        <p style="font-size: 15px;margin-top: 27px;">Sold by: <strong style="color:#000;">${cartDetail.seller.name}</strong> ( Supplied By Partner )</p>
                    </div>
                </div>
            </div>
        `)
    })


    const addToCart = () => {
        $.ajax({
            url: `/api/users/addToCart?productId=${cartDetailId}`,
            dataType: 'json',
            type: 'post',
            contentType: 'application/x-www-form-urlencoded',
            success: function (data, textStatus, jQxhr) {
                console.log(data);
            },
            error: function (jqXhr, textStatus, errorThrown) {
                console.log(errorThrown);
            }
        })
    }
</script>