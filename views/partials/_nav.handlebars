<section class="display-pc" style="padding-bottom:69px;">
    <header class="fixed-top shadow-sm">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-2">
                    <a href="/" style="color: #222;font-size:19.5px;font-weight:bold;margin-top: 4.9px;display: block;">
                        <img src="/img/logo.svg"
                                style="width: 36px;position:relative;top:-5px;">
                            nepsCart
                    </a>
                </div>
                <div class="col-md-7">
                    <div class="nav">
                        <a href="/shop/men/all">Mens <img src="https://image.flaticon.com/icons/svg/36/36669.svg" style="width: 7px;margin-left: 2px;"></a>
                        <a href="/shop/women/all">Womens <img src="https://image.flaticon.com/icons/svg/36/36669.svg" style="width: 7px;margin-left: 2px;"></a>
                        <a href="/shop/netflixshare">Grocery <img src="https://image.flaticon.com/icons/svg/36/36669.svg" style="width: 7px;margin-left: 2px;"></a>
                        <a href="/nepscartpoints">Cashback</a>
                        <a href="/helpcentre">Help centre</a>
                    </div>
                </div>
                <div id="nav-pc" class="col-md-3" style="text-align:right;padding-top:10px;">

                </div>
            </div>
        </div>
    </header>
</section>

<section class="display-mobile" style="padding-bottom:61.5px;">
    <header class="fixed-top" style="background: #fff;">
        <div class="container-fluid">
            <div class="row">
                <div class="col-7">
                    <svg onclick="openNav()" viewBox="0 0 512 512" style="margin-right: 13px;" width="18px">
                        <g>
                            <g>
                                <path style="fill:#333"
                                    d="M479.18,91.897H32.821C14.69,91.897,0,77.207,0,59.077s14.69-32.821,32.821-32.821H479.18   c18.13,0,32.82,14.69,32.82,32.821S497.31,91.897,479.18,91.897z"
                                    data-original="#FF485A" class="" data-old_color="#FF485A" />
                                <path style="fill:#333"
                                    d="M295.385,288.821H32.821C14.69,288.821,0,274.13,0,256s14.69-32.821,32.821-32.821h262.564   c18.13,0,32.821,14.69,32.821,32.821S313.515,288.821,295.385,288.821z"
                                    data-original="#FF485A" class="" data-old_color="#FF485A" />
                            </g>
                            <path style="fill:#333"
                                d="M479.18,288.821h-52.513c-18.13,0-32.821-14.69-32.821-32.821s14.69-32.821,32.821-32.821h52.513  c18.13,0,32.82,14.69,32.82,32.821S497.31,288.821,479.18,288.821z"
                                data-original="#FFBBC0" class="active-path" data-old_color="#FFBBC0" />
                            <path style="fill:#333"
                                d="M479.18,485.744H32.821C14.69,485.744,0,471.053,0,452.923c0-18.13,14.69-32.821,32.821-32.821  H479.18c18.13,0,32.82,14.69,32.82,32.821C512,471.053,497.31,485.744,479.18,485.744z"
                                data-original="#FF485A" class="" data-old_color="#FF485A" />
                        </g>
                    </svg>
                    <a href="/" style="font-size:19px;color:#333;font-weight:bold;position:relative;top:2px;">
                        <img src="/img/logo.svg"
                            style="width: 32px;position:relative;top:-5px;">
                            nepsCart
                    </a>
                </div>
                <div id="nav-mobile" class="col-5" style="padding-top:4px;text-align:right;padding-left:0;">

                </div>
            </div>
        </div>
    </header>
</section>

{{!-- sidenav for mobile --}}
<div id="mySidenav" class="sidenav">
    <div style="background: #3f3947;padding: 22px 0 22px 22px;color:#fff;">
        <div>
            <button style="background: #fff;border:none;padding:7px 14px 12px 14px;border-radius:4px;">
                <img src="/img/icon/user-sidenav.svg" style="width: 21px;">
            </button>
        </div>
        <div id="sidenav-user-name" style="margin-top:14px;font-size:17px;font-weight:bold;">

        </div>
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()"><img src="/img/back-arrow.svg"
                style="width: 19px;"></a>
    </div>
    <div class="sidenavlink" style="font-weight: bold;color:#343434;">
        <a href="/shop/men/all">Men <img src="/img/icon/arrow.svg"
                style="width: 9.5px;float:right;margin:7px 20px 0 0;"></a>
        <a href="/shop/women/all">Women <img src="/img/icon/arrow.svg"
                style="width: 9.5px;float:right;margin:7px 20px 0 0;"></a>
        <a href="/shop/netflixshare">Netflix Share <img src="/img/icon/arrow.svg"
                style="width: 9.5px;float:right;margin:7px 20px 0 0;"></a>
        <a href="/nepscartpoints">Nepscart Points <img src="/img/icon/arrow.svg"
                style="width: 9.5px;float:right;margin:7px 20px 0 0;"></a>
    </div>

    <div class="sidenavlink">
        <hr style="margin:28px 0 0 0;">
        <div id="sidenav-auth">

        </div>
        <a href="/helpcentre">Contact Us</a>
        <a href="/blogs">Blog</a>
        <a href="/partners">Sell on Nepscart</a>
    </div>

    <div class="sidenavlink">
        <hr style="margin:28px 0 0 0;">
        <a href="/termsofservice">Terms of Service</a>
        <a href="/privacypolicy">Privacy</a>
        <a href="/returnpolicy" style="padding-bottom:28px;">Return Policy</a>
    </div>
</div>

<script>
    //media queries == universal
    const mq = window.matchMedia("(min-width: 800px)");

    $.getJSON("/api/users/auth", function (data) {
        if (data.isAuth) {
            $('#sidenav-user-name').append(`<a href="/my-account" style="color: #fff;">${data.firstname}</a>`);
            $('#sidenav-auth').append(`<a href="/my-account">My Account</a>
                <a href="/my-orders">Orders</a>`);

            if (mq.matches) {
                $('#nav-pc').append(`<a href="/cart" style="font-size: 14px;padding-right:20px;font-weight: bold;color:#444;">
                    <img src="/img/heart.svg" style="width: 18px;">
                    Cart
                    <span id="nav-cart" style="font-size:10.5px;background:#FF4747;color:#fff;border-radius:50%;padding:0 5px;position:absolute;top:-2px;right:230px;">
                        ${data.cart.length}
                    </span>
                </a>
                <a href="/my-account" style="font-size: 14px;padding-right:20px;font-weight: bold;color:#444;">
                    <svg width="1.1em" height="1.1em" viewBox="0 0 24 24" fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M17.5 6.5c0 3-2.5 5.5-5.5 5.5S6.5 9.5 6.5 6.5 9 1 12 1s5.5 2.5 5.5 5.5zm-3 0C14.5 5.1 13.4 4 12 4S9.5 5.1 9.5 6.5 10.6 9 12 9s2.5-1.1 2.5-2.5zM3 20c0-3.3 2.7-6 6-6h6c3.3 0 6 2.7 6 6v3h-3v-3c0-1.7-1.4-3-3-3H9c-1.6 0-3 1.3-3 3v3H3v-3z"
                            fill="currentColor"></path>
                    </svg>
                    My Account
                </a>
                <a href="#" onClick="logoutHandler()" style="background: #FF4747;color:#fff;padding:8px 12px;font-size: 14px;">Log
                    out</a>`)
            } else {
                $('#nav-mobile').append(`<a href="/nepscartpoints" style="padding-right:17px;">
                    <img src="/img/icon/points.svg" style="width: 19.5px;">
                </a>
                <a href="/cart" style="padding-right:17px;">
                    <img src="/img/heart.svg" style="width: 18px;">
                    <span id="nav-cart" style="font-size:11.5px;background:#FF4747;color:#fff;border-radius:50%;padding:0 5px;position:absolute;top:-5px;right:42px;">
                        ${data.cart.length}
                    </span>
                </a>
                <a href="/my-account">
                    <img src="/img/icon/profile-nav.svg" style="width: 17px;">
                </a>
                `)
            }
        } else {
            $('#sidenav-user-name').append(`<a href="/user-login" style="color: #fff;">Please Login</a>`);

            if (mq.matches) {
                $('#nav-pc').append(`<a href="/user-login" style="font-size: 14px;padding-right:8px;font-weight: bold;color:#444;">
                    <svg width="1.1em" height="1.1em" viewBox="0 0 24 24" fill="none">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M17.5 6.5c0 3-2.5 5.5-5.5 5.5S6.5 9.5 6.5 6.5 9 1 12 1s5.5 2.5 5.5 5.5zm-3 0C14.5 5.1 13.4 4 12 4S9.5 5.1 9.5 6.5 10.6 9 12 9s2.5-1.1 2.5-2.5zM3 20c0-3.3 2.7-6 6-6h6c3.3 0 6 2.7 6 6v3h-3v-3c0-1.7-1.4-3-3-3H9c-1.6 0-3 1.3-3 3v3H3v-3z"
                            fill="currentColor"></path>
                    </svg>
                    Log in
                </a>
                <a href="/user-register" style="background: #FF4747;color:#fff;padding:8px 12px;font-size: 14px;">Sign
                    up</a>`)
            } else {
                $('#nav-mobile').append(`<a href="/user-login" style="font-size: 14px;padding-right:4px;font-weight: bold;color:#444;">
                    Log in
                </a>
                <a href="/user-register" style="background: #FF4747;color:#fff;padding:7px 8px;font-size: 14px;">Sign
                    up</a>`)
            }
        }
    })


    //logout handler
    const logoutHandler = () => {
        $.getJSON("/api/users/logout", function (data) {
            if (data.success === true) {
                window.location.replace("/user-login");
            }
        })
    }

    //side nav=======================
    function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
    }

    /* Set the width of the side navigation to 0 */
    function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
    }
</script>